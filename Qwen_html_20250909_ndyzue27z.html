<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üöÄ Rocket Crash</title>
  <style>
    :root {
      --primary: #ff3a5b;
      --secondary: #ffcc00;
      --bg: #0f0f1a;
      --card-bg: #1a1a2e;
      --text: #ffffff;
      --success: #4caf50;
      --danger: #f44336;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }

    /* –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    #app {
      flex: 1;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* –°—Ç—Ä–∞–Ω–∏—Ü—ã */
    .page {
      width: 100%;
      max-width: 500px;
      text-align: center;
      opacity: 0;
      pointer-events: none;
      transform: translateY(20px);
      transition: all 0.4s ease;
    }
    .page.active {
      opacity: 1;
      pointer-events: all;
      transform: translateY(0);
    }

    /* –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ */
    #homePage h1 {
      font-size: 2.5rem;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 30px;
    }

    #homePage p {
      margin: 20px 0;
      font-size: 1.1rem;
      color: #ccc;
    }

    /* –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ */
    .btn {
      display: inline-block;
      padding: 14px 30px;
      margin: 10px;
      border: none;
      border-radius: 50px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
    }
    .btn-primary {
      background: var(--primary);
      color: white;
      box-shadow: 0 4px 15px rgba(255, 58, 91, 0.4);
    }
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255, 58, 91, 0.6);
    }

    /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ Crash */
    #crashPage {
      position: relative;
    }

    .balance {
      font-size: 1.5rem;
      margin: 20px 0;
      color: var(--success);
      font-weight: bold;
    }

    .inputs {
      display: flex;
      gap: 10px;
      margin: 20px 0;
      justify-content: center;
    }
    .inputs input {
      padding: 12px;
      border-radius: 12px;
      border: 2px solid #333;
      background: #252535;
      color: white;
      font-size: 1rem;
      text-align: center;
      width: 45%;
    }
    .inputs input:focus {
      outline: none;
      border-color: var(--secondary);
    }

    #betButton, #cashoutButton {
      width: 100%;
      margin: 15px 0;
      padding: 14px;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: bold;
      border: none;
      cursor: pointer;
      transition: all 0.3s;
    }
    #betButton {
      background: var(--primary);
      color: white;
    }
    #betButton:disabled {
      background: #555;
      cursor: not-allowed;
    }
    #cashoutButton {
      background: var(--success);
      color: white;
      display: none;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∫–µ—Ç—ã */
    .rocket-container {
      height: 300px;
      position: relative;
      margin: 30px auto;
      background: linear-gradient(to top, #1a1a2e, #0f0f1a);
      border-radius: 16px;
      border: 2px solid #333;
      overflow: hidden;
    }

    .rocket-track {
      position: absolute;
      left: 50%;
      bottom: 20px;
      width: 4px;
      height: 90%;
      background: rgba(255, 204, 0, 0.3);
      transform: translateX(-50%);
    }

    .rocket {
      position: absolute;
      left: 50%;
      bottom: 20px;
      width: 30px;
      height: 50px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff3a5b"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/></svg>') no-repeat center;
      background-size: contain;
      transform: translateX(-50%);
      transition: bottom 0.15s linear;
      z-index: 10;
    }

    .multiplier {
      font-size: 3rem;
      font-weight: bold;
      color: var(--secondary);
      margin: 20px 0;
      text-shadow: 0 0 10px rgba(255, 204, 0, 0.7);
    }

    .status {
      min-height: 24px;
      font-size: 1.1rem;
      margin: 15px 0;
      color: #ccc;
    }

    .crashed .multiplier {
      color: var(--danger);
      animation: shake 0.5s;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }

    /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é */
    .bottom-nav {
      display: flex;
      justify-content: space-around;
      padding: 15px 10px;
      background: rgba(26, 26, 46, 0.9);
      backdrop-filter: blur(10px);
      position: fixed;
      bottom: 0;
      width: 100%;
      max-width: 500px;
      z-index: 1000;
      border-top: 1px solid #333;
    }
    .nav-btn {
      padding: 8px 16px;
      border-radius: 20px;
      background: transparent;
      color: #aaa;
      border: none;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s;
    }
    .nav-btn.active {
      color: var(--secondary);
      background: rgba(255, 204, 0, 0.1);
      font-weight: bold;
    }

    /* –ö–Ω–æ–ø–∫–∞ +100 */
    #addBalanceBtn {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 8px 16px;
      background: var(--success);
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9rem;
      z-index: 100;
      box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
    }
    #addBalanceBtn:hover {
      background: #3d8b40;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ö–æ–¥–∞ */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .page.active {
      animation: fadeInUp 0.6s ease forwards;
    }
  </style>
</head>
<body>

  <!-- –ö–Ω–æ–ø–∫–∞ +100 -->
  <button id="addBalanceBtn">+100 üí∞</button>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
  <div id="app">
    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <div id="homePage" class="page active">
      <h1>üöÄ ROCKET CRASH</h1>
      <p>–ó–∞–±–∏—Ä–∞–π –≤—ã–∏–≥—Ä—ã—à –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Ä–∞–∫–µ—Ç–∞ —É–ª–µ—Ç–∏—Ç!</p>
      <button class="btn btn-primary" onclick="switchPage('crash')">–ò–≥—Ä–∞—Ç—å –≤ Crash</button>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ Crash -->
    <div id="crashPage" class="page">
      <div class="balance">–ë–∞–ª–∞–Ω—Å: $<span id="balance">1000</span></div>

      <div class="inputs">
        <input type="number" id="betAmount" placeholder="–°—Ç–∞–≤–∫–∞" min="1" value="10">
        <input type="number" id="cashoutAt" placeholder="–ê–≤—Ç–æ-–∑–∞–±—Ä–∞—Ç—å x" min="1.1" step="0.1" value="2.0">
      </div>

      <button id="betButton">üöÄ –ó–ê–ü–£–°–¢–ò–¢–¨ –†–ê–ö–ï–¢–£</button>
      <button id="cashoutButton">üí∞ –ó–ê–ë–†–ê–¢–¨ –í–´–ò–ì–†–´–®</button>

      <div class="rocket-container">
        <div class="rocket-track"></div>
        <div class="rocket" id="rocket"></div>
      </div>

      <div class="multiplier" id="multiplier">x1.00</div>
      <div class="status" id="status"></div>
    </div>
  </div>

  <!-- –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é -->
  <div class="bottom-nav">
    <button class="nav-btn active" onclick="switchPage('home')">–ì–ª–∞–≤–Ω–∞—è</button>
    <button class="nav-btn" onclick="switchPage('crash')">Crash</button>
  </div>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞
    let balance = parseFloat(localStorage.getItem('crashBalance')) || 1000;
    let gameInterval = null;
    let currentMultiplier = 1.00;
    let crashPoint = 0;
    let betAmount = 0;
    let isPlaying = false;

    updateBalance();

    const addBalanceBtn = document.getElementById('addBalanceBtn');
    const betButton = document.getElementById('betButton');
    const cashoutButton = document.getElementById('cashoutButton');
    const rocket = document.getElementById('rocket');

    addBalanceBtn.addEventListener('click', addBalance);
    betButton.addEventListener('click', startGame);
    cashoutButton.addEventListener('click', manualCashout);

    function updateBalance() {
      document.getElementById('balance').textContent = balance.toFixed(2);
      localStorage.setItem('crashBalance', balance);
    }

    function addBalance() {
      balance += 100;
      updateBalance();
      showStatus("‚úÖ +100 –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∞!", 2000);
    }

    function switchPage(page) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));

      if (page === 'home') {
        document.getElementById('homePage').classList.add('active');
        document.querySelector('.nav-btn:nth-child(1)').classList.add('active');
      } else if (page === 'crash') {
        document.getElementById('crashPage').classList.add('active');
        document.querySelector('.nav-btn:nth-child(2)').classList.add('active');
      }
    }

    function startGame() {
      const bet = parseFloat(document.getElementById('betAmount').value);
      const autoCashout = parseFloat(document.getElementById('cashoutAt').value);

      if (isNaN(bet) || bet <= 0) return showStatus("‚ùå –í–≤–µ–¥–∏—Ç–µ —Å—Ç–∞–≤–∫—É!");
      if (isNaN(autoCashout) || autoCashout < 1.01) return showStatus("‚ùå –ö–æ—ç—Ñ > 1.01!");
      if (bet > balance) return showStatus("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!");

      balance -= bet;
      betAmount = bet;
      updateBalance();

      // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ—á–∫–∏ –∫—Ä–∞—Ö–∞
      crashPoint = 1 + Math.random() * (Math.random() > 0.7 ? 20 : 5);
      console.log("üöÄ –†–∞–∫–µ—Ç–∞ –≤–∑–æ—Ä–≤—ë—Ç—Å—è –Ω–∞ x" + crashPoint.toFixed(2));

      // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
      isPlaying = true;
      currentMultiplier = 1.00;
      resetRocket();
      betButton.disabled = true;
      cashoutButton.style.display = "block";
      document.getElementById('multiplier').textContent = "x1.00";
      document.getElementById('multiplier').classList.remove('crashed');
      showStatus(`üöÄ –†–∞–∫–µ—Ç–∞ –∑–∞–ø—É—â–µ–Ω–∞ —Å–æ —Å—Ç–∞–≤–∫–æ–π $${bet}!`);

      // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
      gameInterval = setInterval(() => {
        currentMultiplier += 0.05;

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
        document.getElementById('multiplier').textContent = `x${currentMultiplier.toFixed(2)}`;
        moveRocket(currentMultiplier);

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–±–æ—Ä
        if (currentMultiplier >= autoCashout) {
          autoCashoutTrigger(autoCashout);
        }

        // –ö—Ä–∞—Ö
        if (currentMultiplier >= crashPoint) {
          crash();
        }
      }, 150);
    }

    function moveRocket(multiplier) {
      const maxHeight = 250; // –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
      const rocketHeight = Math.min(maxHeight, (multiplier - 1) * 20);
      rocket.style.bottom = (20 + rocketHeight) + "px";
    }

    function resetRocket() {
      rocket.style.bottom = "20px";
    }

    function manualCashout() {
      if (!isPlaying) return;

      clearInterval(gameInterval);
      isPlaying = false;

      const win = betAmount * currentMultiplier;
      balance += win;
      updateBalance();
      showStatus(`üí∞ –ó–∞–±—Ä–∞–ª–∏ –≤—Ä—É—á–Ω—É—é! +$${win.toFixed(2)} –ø—Ä–∏ x${currentMultiplier.toFixed(2)}`);
      endRound();
    }

    function autoCashoutTrigger(target) {
      if (!isPlaying) return;

      clearInterval(gameInterval);
      isPlaying = false;

      const win = betAmount * target;
      balance += win;
      updateBalance();
      showStatus(`‚úÖ –ê–≤—Ç–æ-–∑–∞–±–æ—Ä! +$${win.toFixed(2)} –ø—Ä–∏ x${target}`);
      endRound();
    }

    function crash() {
      if (!isPlaying) return;

      clearInterval(gameInterval);
      isPlaying = false;

      document.getElementById('multiplier').classList.add('crashed');
      document.getElementById('multiplier').textContent = `x${crashPoint.toFixed(2)} üí•`;
      showStatus(`üí• –†–∞–∫–µ—Ç–∞ –≤–∑–æ—Ä–≤–∞–ª–∞—Å—å! –ü–æ—Ç–µ—Ä—è–Ω–æ $${betAmount}`);

      endRound();
    }

    function endRound() {
      setTimeout(() => {
        betButton.disabled = false;
        cashoutButton.style.display = "none";
        resetRocket();
      }, 2500);
    }

    function showStatus(text, timeout = 3000) {
      const status = document.getElementById('status');
      status.textContent = text;
      if (timeout) {
        setTimeout(() => {
          if (status.textContent === text) {
            status.textContent = "";
          }
        }, timeout);
      }
    }
  </script>

</body>
</html>
